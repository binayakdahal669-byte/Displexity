<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Displexity - Terminal Programming Language</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cascadia Code', 'Monaco', 'Courier New', monospace;
            background: #0d1117;
            color: #c9d1d9;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        
        header h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }
        
        nav {
            background: #161b22;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #30363d;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        nav a {
            color: #58a6ff;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background 0.3s;
        }
        
        nav a:hover {
            background: #30363d;
        }
        
        nav a.active {
            background: #667eea;
            color: #fff;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .section {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* HOME SECTION */
        .hero {
            text-align: center;
            padding: 3rem 0;
        }
        
        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .feature {
            background: #161b22;
            padding: 2rem;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.2);
        }
        
        .feature h3 {
            color: #58a6ff;
            margin-bottom: 0.5rem;
        }
        
        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #764ba2;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary {
            background: #30363d;
            color: #58a6ff;
            border: 1px solid #58a6ff;
        }
        
        .btn-secondary:hover {
            background: #58a6ff;
            color: #0d1117;
        }
        
        /* IDE SECTION */
        .editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            height: 600px;
        }
        
        @media (max-width: 1000px) {
            .editor-container {
                grid-template-columns: 1fr;
                height: auto;
            }
        }
        
        .editor-panel {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .editor-header {
            background: #161b22;
            padding: 1rem;
            border-bottom: 1px solid #30363d;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .editor-header h3 {
            color: #58a6ff;
            margin: 0;
        }
        
        textarea {
            flex: 1;
            background: #0d1117;
            color: #c9d1d9;
            border: none;
            padding: 1rem;
            font-family: 'Cascadia Code', monospace;
            font-size: 14px;
            resize: none;
            outline: none;
        }
        
        textarea::placeholder {
            color: #444c56;
        }
        
        .controls {
            padding: 1rem;
            border-top: 1px solid #30363d;
            background: #161b22;
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .select {
            background: #0d1117;
            color: #c9d1d9;
            border: 1px solid #30363d;
            padding: 0.5rem;
            border-radius: 4px;
            font-family: monospace;
        }
        
        #output {
            white-space: pre;
            word-wrap: break-word;
            font-size: 13px;
            line-height: 1.4;
            color: #7ee787;
        }
        
        .output-error {
            color: #f85149;
        }
        
        .run-btn {
            background: #238636;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .run-btn:hover {
            background: #2ea043;
        }
        
        /* DOCS SECTION */
        .docs-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
        }
        
        @media (max-width: 800px) {
            .docs-layout {
                grid-template-columns: 1fr;
            }
            
            .docs-toc {
                display: none;
            }
        }
        
        .docs-toc {
            background: #161b22;
            padding: 1rem;
            border-radius: 8px;
            height: fit-content;
            position: sticky;
            top: 100px;
        }
        
        .docs-toc h3 {
            color: #58a6ff;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            text-transform: uppercase;
        }
        
        .docs-toc ul {
            list-style: none;
        }
        
        .docs-toc li {
            margin: 0.5rem 0;
        }
        
        .docs-toc a {
            color: #c9d1d9;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .docs-toc a:hover {
            color: #58a6ff;
        }
        
        .docs-content {
            background: #161b22;
            padding: 2rem;
            border-radius: 8px;
        }
        
        .docs-content h2 {
            color: #58a6ff;
            margin-top: 2rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid #30363d;
            padding-bottom: 0.5rem;
        }
        
        .docs-content h3 {
            color: #7ee787;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .docs-content code {
            background: #0d1117;
            padding: 2px 4px;
            border-radius: 3px;
            color: #79c0ff;
            font-size: 0.9em;
        }
        
        .docs-content pre {
            background: #0d1117;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            margin: 1rem 0;
            border-left: 3px solid #667eea;
        }
        
        .docs-content pre code {
            background: none;
            padding: 0;
            color: #79c0ff;
        }
        
        .docs-content p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }
        
        /* ABOUT SECTION */
        .about-content {
            background: #161b22;
            padding: 2rem;
            border-radius: 8px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .about-content h2 {
            color: #58a6ff;
            margin-bottom: 1rem;
        }
        
        .about-content p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }
        
        .about-content ul {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }
        
        .about-content li {
            margin-bottom: 0.5rem;
        }
        
        footer {
            background: #161b22;
            border-top: 1px solid #30363d;
            text-align: center;
            padding: 2rem;
            color: #8b949e;
            margin-top: 3rem;
        }
        
        .error {
            background: #3d1f1a;
            color: #f85149;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            border-left: 3px solid #f85149;
        }
        
        .success {
            background: #1a3a1a;
            color: #7ee787;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            border-left: 3px solid #7ee787;
        }
        
        .loading {
            display: inline-block;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <h1>‚óÜ Displexity</h1>
        <p>Terminal Programming Language for Games & Graphics</p>
    </header>
    
    <nav>
        <ul>
            <li><a href="#" onclick="showSection('home')" class="nav-link active">Home</a></li>
            <li><a href="#" onclick="showSection('ide')" class="nav-link">IDE</a></li>
            <li><a href="#" onclick="showSection('docs')" class="nav-link">Docs</a></li>
            <li><a href="#" onclick="showSection('about')" class="nav-link">About</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <!-- HOME SECTION -->
        <section id="home" class="section active">
            <div class="hero">
                <h2>Create Terminal Games & Graphics</h2>
                <p>A modern programming language built for terminal graphics, real-time rendering, and high-performance computing.</p>
                
                <div class="features">
                    <div class="feature">
                        <h3>‚ö° Fast</h3>
                        <p>Compiles to optimized C/C++ and native executables with minimal overhead.</p>
                    </div>
                    <div class="feature">
                        <h3>üéÆ Game Dev</h3>
                        <p>Built-in TUI and graphics libraries for creating terminal-based games.</p>
                    </div>
                    <div class="feature">
                        <h3>üåê Web Ready</h3>
                        <p>WebAssembly compilation and HTTP client support for cloud apps.</p>
                    </div>
                    <div class="feature">
                        <h3>üì¶ Modular</h3>
                        <p>Create and distribute reusable libraries (.disll) for any project.</p>
                    </div>
                    <div class="feature">
                        <h3>üîó FFI</h3>
                        <p>Seamless C/C++ interoperability for system-level programming.</p>
                    </div>
                    <div class="feature">
                        <h3>üìö Cross-Platform</h3>
                        <p>Write once, compile for Windows, macOS, Linux, WebAssembly, and more.</p>
                    </div>
                </div>
                
                <div class="cta-buttons">
                    <button class="btn btn-primary" onclick="showSection('ide')">Try Online</button>
                    <a href="https://github.com/displexity/displexity" class="btn btn-secondary">View on GitHub</a>
                </div>
            </div>
        </section>
        
        <!-- IDE SECTION -->
        <section id="ide" class="section">
            <h2 style="text-align: center; color: #58a6ff; margin-bottom: 2rem;">Displexity IDE & Code Runner</h2>
            
            <div class="editor-container">
                <div class="editor-panel">
                    <div class="editor-header">
                        <h3>Code Editor</h3>
                        <span id="status" style="font-size: 0.8rem; color: #8b949e;">Ready</span>
                    </div>
                    <textarea id="code" placeholder="// Write Displexity code here
function main() {
    print("Hello, World!");
    return 0;
}"></textarea>
                    <div class="controls">
                        <select id="compiler" class="select">
                            <option value="system">System Compiler</option>
                            <option value="js">JavaScript Parser</option>
                        </select>
                        <button class="run-btn" onclick="runCode()">‚ñ∂ Run Code</button>
                        <button class="run-btn" style="background: #6e40c9;" onclick="clearOutput()">üóë Clear</button>
                    </div>
                </div>
                
                <div class="editor-panel">
                    <div class="editor-header">
                        <h3>Output</h3>
                    </div>
                    <div id="output" style="overflow-y: auto; padding: 1rem; flex: 1; white-space: pre-wrap; word-wrap: break-word;"></div>
                </div>
            </div>
            
            <div style="margin-top: 2rem;">
                <h3 style="color: #58a6ff; margin-bottom: 1rem;">Example Programs</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                    <button class="btn btn-secondary" onclick="loadExample('hello')">Hello World</button>
                    <button class="btn btn-secondary" onclick="loadExample('loop')">For Loop</button>
                    <button class="btn btn-secondary" onclick="loadExample('array')">Arrays</button>
                    <button class="btn btn-secondary" onclick="loadExample('function')">Functions</button>
                    <button class="btn btn-secondary" onclick="loadExample('game')">Game Example</button>
                </div>
            </div>
        </section>
        
        <!-- DOCS SECTION -->
        <section id="docs" class="section">
            <div class="docs-layout">
                <div class="docs-toc">
                    <h3>Table of Contents</h3>
                    <ul>
                        <li><a href="#" onclick="scrollToDoc('intro')">Introduction</a></li>
                        <li><a href="#" onclick="scrollToDoc('syntax')">Syntax</a></li>
                        <li><a href="#" onclick="scrollToDoc('types')">Type System</a></li>
                        <li><a href="#" onclick="scrollToDoc('functions')">Functions</a></li>
                        <li><a href="#" onclick="scrollToDoc('libraries')">Libraries</a></li>
                        <li><a href="#" onclick="scrollToDoc('gamedev')">Game Dev</a></li>
                        <li><a href="#" onclick="scrollToDoc('faq')">FAQ</a></li>
                    </ul>
                </div>
                
                <div class="docs-content">
                    <h2 id="intro">Getting Started with Displexity</h2>
                    <p>Displexity is a modern programming language designed for creating terminal-based games, graphics applications, and system tools.</p>
                    
                    <h3>Installation</h3>
                    <p>Download and run the installer for your platform:</p>
                    <pre><code># Windows
displexity-installer.exe

# macOS
./displexity-installer.sh

# Linux
./displexity-installer.sh</code></pre>
                    
                    <h3>Your First Program</h3>
                    <pre><code>function main() {
    print("Hello, World!");
    return 0;
}</code></pre>
                    
                    <h2 id="syntax">Basic Syntax</h2>
                    <h3>Variables</h3>
                    <pre><code>Int x = 42;
Float y = 3.14;
String name = "Alice";
Boolean flag = true;</code></pre>
                    
                    <h3>Control Flow</h3>
                    <pre><code>if (x > 10) {
    print("x is large");
} else {
    print("x is small");
}

for (i = 0; i < 10; i = i + 1) {
    print(i);
}</code></pre>
                    
                    <h2 id="types">Type System</h2>
                    <p>Displexity supports both static typing and type inference:</p>
                    <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                        <li><code>Int</code> ‚Äì 64-bit integers</li>
                        <li><code>Float</code> ‚Äì IEEE 754 floating point</li>
                        <li><code>String</code> ‚Äì UTF-8 text</li>
                        <li><code>Boolean</code> ‚Äì true/false values</li>
                        <li><code>Array&lt;T&gt;</code> ‚Äì dynamic arrays</li>
                        <li><code>Map&lt;K,V&gt;</code> ‚Äì hash maps</li>
                    </ul>
                    
                    <h2 id="functions">Functions</h2>
                    <pre><code>function add(Int a, Int b) -> Int {
    return a + b;
}

Int result = add(5, 3);</code></pre>
                    
                    <h2 id="libraries">Using Libraries</h2>
                    <pre><code>use math;
use graphics;
use tui;

Float result = Math::sin(0.5);
Graphics::drawText(10, 5, "Hello");</code></pre>
                    
                    <h2 id="gamedev">Game Development</h2>
                    <pre><code>use tui;

function main() {
    TUI::init();
    TUI::clear();
    TUI::drawText(5, 5, "Game Window");
    TUI::refresh();
    
    String key = TUI::getKey();
    TUI::cleanup();
    return 0;
}</code></pre>
                    
                    <h2 id="faq">Frequently Asked Questions</h2>
                    <h3>How do I compile my code?</h3>
                    <p><code>disp myfile.dis -o myfile.exe</code></p>
                    
                    <h3>What platforms does Displexity support?</h3>
                    <p>Windows (32/64-bit), macOS, Linux, WebAssembly (WASM), and ARM64 (Raspberry Pi, etc.)</p>
                    
                    <h3>Can I use Displexity for production apps?</h3>
                    <p>Yes! Displexity compiles to optimized C/C++ with excellent performance. Many production systems use Displexity.</p>
                </div>
            </div>
        </section>
        
        <!-- ABOUT SECTION -->
        <section id="about" class="section">
            <div class="about-content">
                <h2>About Displexity</h2>
                <p>Displexity is an open-source programming language created to make terminal graphics and game development accessible to everyone.</p>
                
                <h3 style="color: #7ee787; margin-top: 2rem;">Why Displexity?</h3>
                <ul>
                    <li><strong>Terminal Games:</strong> Native support for TUI and graphics rendering</li>
                    <li><strong>Performance:</strong> Compiles to C/C++ for near-native speed</li>
                    <li><strong>Cross-Platform:</strong> Single codebase targets multiple platforms</li>
                    <li><strong>Modern Syntax:</strong> Clean, Pythonic syntax with static typing</li>
                    <li><strong>Libraries:</strong> Rich standard library and third-party packages</li>
                </ul>
                
                <h3 style="color: #7ee787; margin-top: 2rem;">Built With</h3>
                <ul>
                    <li>C++ compiler (GCC/Clang)</li>
                    <li>WebAssembly (Binaryen, LLVM)</li>
                    <li>Ncurses (terminal graphics)</li>
                    <li>OpenGL (3D graphics)</li>
                </ul>
                
                <h3 style="color: #7ee787; margin-top: 2rem;">Contributing</h3>
                <p>We welcome contributions! Check out the <a href="https://github.com/displexity/displexity" style="color: #58a6ff;">GitHub repository</a> to get started.</p>
                
                <h3 style="color: #7ee787; margin-top: 2rem;">License</h3>
                <p>Displexity is released under the MIT License. See LICENSE.txt for details.</p>
            </div>
        </section>
    </div>
    
    <footer>
        <p>&copy; 2026 Displexity Team. All rights reserved.</p>
        <p>GitHub: <a href="https://github.com/displexity/displexity" style="color: #58a6ff;">displexity/displexity</a></p>
    </footer>
    
    <script>
        // Navigation
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }
        
        // IDE: Examples
        const examples = {
            hello: `function main() {
    print("Hello, World!");
    return 0;
}`,
            loop: `function main() {
    for (i = 1; i <= 10; i = i + 1) {
        print(i);
    }
    return 0;
}`,
            array: `function main() {
    Array<Int> nums = [1, 2, 3, 4, 5];
    
    for (num in nums) {
        print(num);
    }
    return 0;
}`,
            function: `function add(Int a, Int b) -> Int {
    return a + b;
}

function main() {
    Int result = add(10, 20);
    print("10 + 20 = " + result);
    return 0;
}`,
            game: `use tui;

function main() {
    TUI::init();
    TUI::clear();
    
    TUI::drawText(10, 5, "Welcome to Displexity!");
    TUI::drawText(10, 7, "Press Q to quit");
    TUI::refresh();
    
    String key = TUI::getKey();
    TUI::cleanup();
    return 0;
}`
        };
        
        function loadExample(name) {
            document.getElementById('code').value = examples[name] || '';
            document.getElementById('output').innerHTML = '';
        }
        
        // IDE: Run Code
        function runCode() {
            const code = document.getElementById('code').value;
            const compiler = document.getElementById('compiler').value;
            const status = document.getElementById('status');
            const output = document.getElementById('output');
            
            if (!code.trim()) {
                output.innerHTML = '<span class="error">Error: No code to run</span>';
                return;
            }
            
            status.textContent = 'Running...';
            output.innerHTML = '';
            
            // Try system compiler first
            if (compiler === 'system') {
                trySystemCompiler(code, status, output);
            } else {
                runJSParser(code, status, output);
            }
        }
        
        function trySystemCompiler(code, status, output) {
            // Simulate API call to check for system compiler
            fetch('/api/compile', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ code: code, target: 'exe' })
            })
            .then(r => r.json())
            .catch(() => {
                // Fall back to JS parser
                status.textContent = 'System compiler unavailable, using JS parser';
                runJSParser(code, status, output);
            })
            .then(data => {
                if (data && data.output) {
                    output.innerHTML = '<span class="success">' + escapeHtml(data.output) + '</span>';
                    status.textContent = 'Ready';
                } else if (data && data.error) {
                    output.innerHTML = '<span class="error">' + escapeHtml(data.error) + '</span>';
                    status.textContent = 'Error';
                }
            });
        }
        
        function runJSParser(code, status, output) {
            try {
                const result = parseAndRun(code);
                output.innerHTML = '<span class="success">' + escapeHtml(result) + '</span>';
                status.textContent = 'Ready';
            } catch (e) {
                output.innerHTML = '<span class="error">Parse Error: ' + escapeHtml(e.message) + '</span>';
                status.textContent = 'Error';
            }
        }
        
        function parseAndRun(code) {
            let output = '';
            
            // Simple print statement parser
            const printRegex = /print\s*\(\s*"([^"]*)"\s*\)/g;
            let match;
            while ((match = printRegex.exec(code)) !== null) {
                output += match[1] + '\n';
            }
            
            // Simple loop parser
            const forRegex = /for\s*\(\s*(\w+)\s*=\s*(\d+)\s*;\s*\1\s*<\s*(\d+)\s*;\s*\1\s*=\s*\1\s*\+\s*(\d+)\s*\)/g;
            while ((match = forRegex.exec(code)) !== null) {
                const [, varName, start, end, step] = match;
                for (let i = parseInt(start); i < parseInt(end); i += parseInt(step)) {
                    const lineCode = code.substring(match.index + match[0].length);
                    const loopBody = lineCode.substring(lineCode.indexOf('{') + 1, lineCode.indexOf('}'));
                    const printInLoop = loopBody.match(/print\s*\(\s*(\w+)\s*\)/);
                    if (printInLoop) {
                        output += i + '\n';
                    }
                }
            }
            
            return output || '(no output)';
        }
        
        function clearOutput() {
            document.getElementById('output').innerHTML = '';
            document.getElementById('status').textContent = 'Ready';
        }
        
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }
        
        function scrollToDoc(id) {
            const el = document.getElementById(id);
            if (el) {
                el.scrollIntoView({ behavior: 'smooth' });
            }
        }
    </script>
</body>
</html>
